<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta charset="utf-8">
  

  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://fastly.jsdelivr.net">
  <link rel="preconnect" href="https://fastly.jsdelivr.net" crossorigin>
  <link rel="dns-prefetch" href="//unpkg.com">

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  <title>IndieWeb的实现 - RSSBOX</title>

  
    <meta name="description" content="前言 初次看见webring 之前闲着没事干逛开往issues的时候看到了这么个站点： 甜鱼&#x2F;Ayu  当时这个按钮引起了我的注意：  这是个啥东西？友链接力？还是什么？于是我写了个邮件问问这位站长 这位站长给我的回复如下：  果然是类似于友链接力的，而且开往正是受到这个webring的启发 当时还以为那站点能加入的原因是简约，而且加入这个成员大多都是foreign，所以我就没怎么去了解 再次看">
<meta property="og:type" content="article">
<meta property="og:title" content="IndieWeb的实现">
<meta property="og:url" content="https://rssbox.mhuig.top/rss/2338786f.html">
<meta property="og:site_name" content="RSSBOX">
<meta property="og:description" content="前言 初次看见webring 之前闲着没事干逛开往issues的时候看到了这么个站点： 甜鱼&#x2F;Ayu  当时这个按钮引起了我的注意：  这是个啥东西？友链接力？还是什么？于是我写了个邮件问问这位站长 这位站长给我的回复如下：  果然是类似于友链接力的，而且开往正是受到这个webring的启发 当时还以为那站点能加入的原因是简约，而且加入这个成员大多都是foreign，所以我就没怎么去了解 再次看">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_W0D5sJwJdS.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_aPesUGpkib.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_ZBaJIoLQB4.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_wE6GFHM4xS.png">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/image.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_F1DgJAYQgE.png">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_nK204ZgG2B.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/image.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_BTNfmkpumY.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_LoMC9ZmMNZ.avif">
<meta property="og:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_HOlCqgE2VR.avif">
<meta property="article:published_time" content="2025-01-27T07:20:44.000Z">
<meta property="article:modified_time" content="2025-01-27T07:20:44.000Z">
<meta property="article:author" content="MHuiG">
<meta property="article:tag" content="友链">
<meta property="article:tag" content="绘星里">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_W0D5sJwJdS.avif">
  
  

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="RSSBOX" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  

  


  
</head>

<body>
  




  <div class="l_body" id="start">
    <aside class="l_left" layout="post">
    


<header class="header">

<div class="logo-wrap"><a class="avatar" target="_blank" rel="noopener" href="https://mhuig.top/"><div class="bg" style="opacity:0;background-image:url(https://static.mhuig.top/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="/avatar.png" onerror="javascript:this.classList.add('error');this.src='https://static.mhuig.top/gh/cdn-x/placeholder@1.0.1/image/2659360.svg';"></a><a class="title" href="/"><div class="main">RSSBOX</div><div class="sub normal cap">MHuiGのRSS订阅</div><div class="sub hover cap" style="opacity:0">rssbox.mhuig.top</div></a></div>
<nav class="menu dis-select"><a class="nav-item active" href="/">RSS</a><a class="nav-item" target="_blank" rel="noopener" href="https://blog.mhuig.top/">博客</a><a class="nav-item" target="_blank" rel="noopener" href="https://mhuig.top/">关于</a></nav></header>

<div class="widgets">

<div class="widget-wrap single" id="toc"><div class="widget-header cap dis-select"><span class="name">本文目录</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E6%AC%A1%E7%9C%8B%E8%A7%81webring"><span class="toc-text">初次看见webring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%8D%E6%AC%A1%E7%9C%8B%E8%A7%81"><span class="toc-text">再次看见</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6"><span class="toc-text">前提条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%99%E7%A8%8B%E5%BC%80%E5%A7%8B"><span class="toc-text">教程开始！</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#indieauth%E5%BF%85%E9%80%89-relmeauth%E5%BF%85%E9%80%89"><span class="toc-text">IndieAuth（必选）&amp;&amp; RelMeAuth（必选）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#microformats%E5%BF%85%E9%80%89"><span class="toc-text">Microformats（必选）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#h-card%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF"><span class="toc-text">h-card（个人信息）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#h-entry%E5%8D%9A%E5%AE%A2%E4%BF%A1%E6%81%AF"><span class="toc-text">h-entry（博客信息）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E6%B7%BB%E5%8A%A0"><span class="toc-text">可选添加</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webmention-%E5%8F%AF%E9%80%89"><span class="toc-text">WebMention （可选）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BB%E5%BD%95webmention%E8%8E%B7%E5%8F%96%E4%B8%A4%E6%AE%B5link"><span class="toc-text">登录WebMention，获取两段link</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-%E7%BD%91%E7%BB%9C%E5%9B%9E%E5%93%8D-%E5%8A%9F%E8%83%BD"><span class="toc-text">添加 网络回响 功能</span></a></li></ol></li></ol></li></ol></div></div></div>


</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" href="https://github.com/MHuiG" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://static.mhuig.top/gh/cdn-x/placeholder@1.0.3/social/08a41b181ce68.svg"></a><a class="social" href="https://music.163.com/#/user/home?id=63035382" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://static.mhuig.top/gh/cdn-x/placeholder@1.0.3/social/3845874.svg"></a><a class="social" href="/contact/" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://static.mhuig.top/gh/cdn-x/placeholder@1.0.3/social/a1b00e20f425d.svg"></a></div></footer>

    </aside>
    <div class="l_main">
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/%E5%8F%8B%E9%93%BE/">友链</a> <span class="sep"></span> <a class="cap breadcrumb-link" href="/categories/%E5%8F%8B%E9%93%BE/%E7%BB%98%E6%98%9F%E9%87%8C/">绘星里</a></div><div id="post-meta">发布于&nbsp;<time datetime="2025-01-27T07:20:44.000Z">2025-01-27</time></div></div>

<article class="content md post">
<h1 class="article-title"><span>IndieWeb的实现</span></h1>
<div>
<h2 id="前言">前言</h2>
<h3 id="初次看见webring">初次看见webring</h3>
<p>之前闲着没事干逛开往issues的时候看到了这么个站点：</p>
<p><a class="content-link no-underline" href="https://ayu.land/" target="_blank" rel="external nofollow noopener noreferrer">甜鱼/Ayu<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<p>当时这个按钮引起了我的注意：</p>
<p><img class="lazy" alt="引起我注意的按钮" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_W0D5sJwJdS.avif"></p>
<p>这是个啥东西？友链接力？还是什么？于是我写了个邮件问问这位站长</p>
<p>这位站长给我的回复如下：</p>
<p><img class="lazy" alt="站长的回复" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_aPesUGpkib.avif"></p>
<p>果然是类似于友链接力的，而且开往正是受到这个webring的启发</p>
<p>当时还以为那站点能加入的原因是简约，而且加入这个成员大多都是foreign，所以我就没怎么去了解</p>
<h3 id="再次看见">再次看见</h3>
<p>后面闲着没事干，又去逛逛开往<psw>这波开往上大分</psw> ，来到了<a class="content-link no-underline" href="https://his2nd.life/" target="_blank" rel="external nofollow noopener noreferrer">他的第二人生<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
这个站点</p>
<p>然后我就看到了这篇文章：</p>
<p><a class="content-link no-underline" href="https://his2nd.life/zh-CN/posts/127efb3.html" target="_blank" rel="external nofollow noopener noreferrer">IndieWeb 实现测试<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<p>再加上我在那站点末尾看见了IndieWeb Webring的标志</p>
<p>才知道Hexo的博客原来也能加入IndieWeb webring</p>
<p>而加入IndieWeb webring的前提条件是：站点必须适配IndieWeb</p>
<h2 id="前提条件">前提条件</h2>
<p>必须要有独立网站和个人域名，<psw>没错，就是独立网站和个人域名，其实刚开始看的时候我还以为我看错了，后来才发现我没看错，那官方文档就是这么写的</psw></p>
<h2 id="教程开始">教程开始！</h2>
<p>对IndieWeb的适配分为四个部分：IndieAuth、RelMeAuth和Microformats</p>
<h3 id="indieauth必选-relmeauth必选">IndieAuth（必选）&amp;&amp; RelMeAuth（必选）</h3>
<p>这个教程其实很简单，就是在你的Github链接和邮箱链接对应的元素添加<code>rel="me"</code>的标签</p>
<p>并且去 <a class="content-link no-underline" href="https://indieauth.com/" target="_blank" rel="external nofollow noopener noreferrer">https://indieauth.com/<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
那边登录+获取IndieAuth代码放到head里面就行（后面那Web Sign-in form什么的不用添加）</p>
<p>也因此我才把这两个合并到一起</p>
<p>添加标签和代码：</p>
<p><div class="tabs-container" data-tabs-id="08306663">
<div class="tabs-nav"><button class="tab-button active" data-tab="tab-08306663-0">
Solitude主题
</button><button class="tab-button" data-tab="tab-08306663-1">
Redifine主题
</button></div>
<div class="tabs-content"><div class="tab-panel active" id="tab-08306663-0"><p>修改<code>[Blogroot]\themes\solitude\layout\includes\widgets\aside\asideInfoCard.pug</code>，转到最后一行</p>
<pre class="line-numbers language-diff">
<code> .card-info-social-icons.is-center
each value, label in theme.aside.my_card.information || &#123;&#125;
- var array = value.split('||')
- a.social-icon.u-url(class=array[2] href=url_for(trim(array[0])), title=label)
+ a.social-icon.u-url(class=array[2] href=url_for(trim(array[0])), title=label, rel="me")
i.solitude(class=array[1])</code>
</pre><p>然后修改主题目录下的<code>_config.yml</code>或者博客目录下的<code>_config.solitude.yml</code></p>
<pre class="line-numbers language-yaml">
<code># Aside
# 侧边栏
aside:
# Information card
# 信息卡
my_card:
# social
# 社交信息图标
information:
Github: https://github.com/SinzMise || fab fa-github # 添加你的Github链接（必须！）
Email: mailto:email@sinzmise.top || fa fa-envelope # 添加你的邮件地址（必须！）
...
# Extend
# 扩展
extends:
# Insert in head
# 插入到 head
head:
- &lt;link rel="authorization_endpoint" href="https://indieauth.com/auth"&gt;
- &lt;link rel="token_endpoint" href="https://tokens.indieauth.com/token"&gt;</code>
</pre>
</div><div class="tab-panel" id="tab-08306663-1"><p>懒得写了，反正<code>rel-'me'</code>按照我上面说的来添加就可以</p>
<p>如果你想提前支持IndieAuth，就直接在<code>&lt;/head&gt;</code>之前添加这两个就可以了：</p>
<pre class="line-numbers language-html">
<code>&lt;link rel="authorization_endpoint" href="https://indieauth.com/auth"&gt;
&lt;link rel="token_endpoint" href="https://tokens.indieauth.com/token"&gt;</code>
</pre>
</div></div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() &#123;
const tabContainers = document.querySelectorAll('.tabs-container');
tabContainers.forEach(container => &#123;
const buttons = container.querySelectorAll('.tab-button');
const panels = container.querySelectorAll('.tab-panel');
buttons.forEach(button => &#123;
button.addEventListener('click', function() &#123;
buttons.forEach(btn => btn.classList.remove('active'));
panels.forEach(panel => panel.classList.remove('active'));
this.classList.add('active');
const tabId = this.getAttribute('data-tab');
container.querySelector('#' + tabId).classList.add('active');
&#125;);
&#125;);
&#125;);
&#125;);
</script>
然后去 <a class="content-link no-underline" href="https://indieauth.com/" target="_blank" rel="external nofollow noopener noreferrer">https://indieauth.com/<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
这边登录你的账号</p>
<div class="warning-shortcode">
<div class="warning-icon">⚠️</div>
<div class="warning-content">如果你用的是静态博客，那么在去登录之前你必须要给博客push上去！要不然提示找不到rel=me标签！
</div>
</div>
<p>划到最下面，在<code>Try It!</code>这个地方输入你的网址</p>
<p><img class="lazy" alt="在这里输入网址" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_ZBaJIoLQB4.avif">
然后点击Sign-In会询问你用Github登录还是用邮箱登录</p>
<p>随便选一个登录之后看到这个就说明成功了：</p>
<p><img class="lazy" alt="成功提示" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/msedge_wE6GFHM4xS.png"></p>
<p>当然在此之前你可以去 <a class="content-link no-underline" href="https://indiewebify.me/validate-rel-me/" target="_blank" rel="external nofollow noopener noreferrer">https://indiewebify.me/validate-rel-me/<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
那边检测</p>
<p>检测成功会提示这个：</p>
<p><img class="lazy" alt="检测成功的样子" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250127/image.avif"></p>
<h3 id="microformats必选">Microformats（必选）</h3>
<p>最难的地方来了</p>
<p>因为这个会引入大量的class标签</p>
<p>如果是别的主题魔改还好，如果像solitude这种文章标题在Header里面就很难改，而且一不小心就识别错误</p>
<p>而如果是Redifine这种使用了Tailwind CSS就更难，因为这个会在页面中留下许多<code>h-</code>开头的类名，导致部分 microformats 解析器解析出错误的数据</p>
<psw>这也是为什么我这么讨厌Tailwind CSS</psw>
<p>因此目前只有Solitude的魔改教程，而且只有必要的class，其它主题或者非Hexo博客可以参考一下wiki：</p>
<p><a class="content-link no-underline" href="https://microformats.org/wiki/h-card" target="_blank" rel="external nofollow noopener noreferrer">https://microformats.org/wiki/h-card<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<p><a class="content-link no-underline" href="https://microformats.org/wiki/h-entry" target="_blank" rel="external nofollow noopener noreferrer">https://microformats.org/wiki/h-entry<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<h4 id="h-card个人信息">h-card（个人信息）</h4>
<p>修改<code>[Blogroot]\themes\solitude\layout\includes\widgets\aside\asideInfoCard.pug</code></p>
<pre class="line-numbers language-diff">
<code>- .card-widget.card-info
+ .card-widget.card-info.h-card
.card-content
.card-info-avatar.is-center
.author-info__top-group
.author-info__sayhi#author-info__sayhi(onclick="sco.changeWittyWord()")
.avatar-img-group
- img.avatar-img(alt=_p('aside.avatar'), src=theme.aside.my_card.author.img)
+ img.u-photo.avatar-img(alt=_p('aside.avatar'), src=theme.aside.my_card.author.img)
if theme.aside.my_card.author.sticker
.avatar-sticker
img.avatar-sticker-img(src=theme.aside.my_card.author.sticker, alt=_p('aside.sticker'))
.author-info__description_group
.author-info__description!= theme.aside.my_card.content
.author-info__bottom-group
span.author-info__bottom-group-left
- .author-info__name= config.author
- .author-info__desc!= theme.aside.my_card.description
+ .author-info__name.p-name= config.author
+ .author-info__desc.p-note!= theme.aside.my_card.description
.card-info-social-icons.is-center
each value, label in theme.aside.my_card.information || &#123;&#125;
- var array = value.split('||')
- a.social-icon(class=array[2] href=url_for(trim(array[0])), title=label, rel="me")
+ a.social-icon.u-url(class=array[2] href=url_for(trim(array[0])), title=label, rel="me")
i.solitude(class=array[1])</code>
</pre><p>修改完成后给博客push上去</p>
<p>然后去 <a class="content-link no-underline" href="https://indiewebify.me/validate-h-card/" target="_blank" rel="external nofollow noopener noreferrer">https://indiewebify.me/validate-h-card/<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
这边检测h-card的代码添加情况</p>
<p>如果识别到你设置的信息那就是成功了</p>
<p><img class="lazy" alt="成功提示" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_F1DgJAYQgE.png"></p>
<h4 id="h-entry博客信息">h-entry（博客信息）</h4>
<p>修改<code>[Blogroot]\themes\solitude\layout\post.pug</code></p>
<pre class="line-numbers language-diff">
<code>extends includes/layout.pug
block content
main.layout#content-inner
- #post
+ #post.h-entry
+ a.h-card.p-author(href=url_for("/") rel="author" style='display:none')= config.author
+ a.u-url.p-name(href=urlNoIndex() style='display:none')= page.title
+ time.dt-published(datetime=date_xml(page.date) style='display:none')= date_xml(page.date)
+ time.dt-updated(datetime=date_xml(page.updated) style='display:none')= date_xml(page.updated)
+ if page.categories.data.length &gt; 0
+ a.p-category(href=url_for('/' + page.categories.data[0].path) style='display:none')= page.categories.data[0].name
if page.not_cover
include includes/widgets/post/postInfo
article.post-content.article-container
if theme.post_ai.enable
include includes/widgets/post/post-ai
- != page.content
+ .e-content!= page.content</code>
</pre><p>修改<code>[Blogroot]\themes\solitude\layout\includes\widgets\post\copyright.pug</code>，转到第<code>25</code>行</p>
<pre class="line-numbers language-diff">
<code> each item in theme.post.share.list || []
case item
when 'qq'
- a.social-share-ico.icon-qq(href=`https://connect.qq.com/widget/shareqq/index.html?url=$&#123;encodedPath&#125;&amp;title=$&#123;encodedTitle&#125;&amp;desc=$&#123;encodedDescription&#125;&amp;summary=$&#123;encodedDescription&#125;&amp;site=$&#123;encodedTitle&#125;&amp;pics=$&#123;encodedIcon&#125;` title=_p('post.share.qq'))
+ a.u-syndication.social-share-ico.icon-qq(href=`https://connect.qq.com/widget/shareqq/index.html?url=$&#123;encodedPath&#125;&amp;title=$&#123;encodedTitle&#125;&amp;desc=$&#123;encodedDescription&#125;&amp;summary=$&#123;encodedDescription&#125;&amp;site=$&#123;encodedTitle&#125;&amp;pics=$&#123;encodedIcon&#125;` title=_p('post.share.qq'))
i.solitude.fab.fa-qq
when 'weibo'
- a.social-share-ico.icon-weibo(href=`http://service.weibo.com/share/share.php?url=$&#123;encodedPath&#125;&amp;title=$&#123;encodedTitle&#125;&amp;pic=$&#123;encodedIcon&#125;` title=_p('post.share.weibo'))
+ a.u-syndication.social-share-ico.icon-weibo(href=`http://service.weibo.com/share/share.php?url=$&#123;encodedPath&#125;&amp;title=$&#123;encodedTitle&#125;&amp;pic=$&#123;encodedIcon&#125;` title=_p('post.share.weibo'))
i.solitude.fab.fa-weibo
when 'telegram'
- a.social-share-ico.icon-telegram(href=`https://t.me/share/url?url=$&#123;encodedPath&#125;&amp;text=$&#123;encodedTitle&#125;` title=_p('post.share.telegram'))
+ a.u-syndication.social-share-ico.icon-telegram(href=`https://t.me/share/url?url=$&#123;encodedPath&#125;&amp;text=$&#123;encodedTitle&#125;` title=_p('post.share.telegram'))
i.solitude.fab.fa-telegram
when 'whatsapp'
- a.social-share-ico.icon-whatsapp(href=`https://api.whatsapp.com/send?text=$&#123;encodedTitle&#125; $&#123;encodedPath&#125;` title=_p('post.share.whatsapp'))
+ a.u-syndication.social-share-ico.icon-whatsapp(href=`https://api.whatsapp.com/send?text=$&#123;encodedTitle&#125; $&#123;encodedPath&#125;` title=_p('post.share.whatsapp'))
i.solitude.fab.fa-whatsapp
when 'linkedin'
- a.social-share-ico.icon-linkedin(href=`https://www.linkedin.com/shareArticle?mini=true&amp;url=$&#123;encodedPath&#125;&amp;title=$&#123;encodedTitle&#125;&amp;summary=$&#123;encodedDescription&#125;&amp;source=$&#123;encodedTitle&#125;` title=_p('post.share.linkedin'))
+ a.u-syndication.social-share-ico.icon-linkedin(href=`https://www.linkedin.com/shareArticle?mini=true&amp;url=$&#123;encodedPath&#125;&amp;title=$&#123;encodedTitle&#125;&amp;summary=$&#123;encodedDescription&#125;&amp;source=$&#123;encodedTitle&#125;` title=_p('post.share.linkedin'))
i.solitude.fab.fa-linkedin
when 'facebook'
- a.social-share-ico.icon-facebook(href=`https://www.facebook.com/sharer/sharer.php?u=$&#123;encodedPath&#125;` title=_p('post.share.facebook'))
+ a.u-syndication.social-share-ico.icon-facebook(href=`https://www.facebook.com/sharer/sharer.php?u=$&#123;encodedPath&#125;` title=_p('post.share.facebook'))
i.solitude.fab.fa-facebook
when 'twitter'
- a.social-share-ico.icon-twitter(href=`https://twitter.com/intent/tweet?url=$&#123;encodedPath&#125;&amp;text=$&#123;encodedTitle&#125;` title=_p('post.share.twitter'))
+ a.u-syndication.social-share-ico.icon-twitter(href=`https://twitter.com/intent/tweet?url=$&#123;encodedPath&#125;&amp;text=$&#123;encodedTitle&#125;` title=_p('post.share.twitter'))
i.solitude.fab.fa-twitter</code>
</pre><p>两个步骤修改完成之后给博客push上去</p>
<p>然后去 <a class="content-link no-underline" href="https://indiewebify.me/validate-h-entry/" target="_blank" rel="external nofollow noopener noreferrer">https://indiewebify.me/validate-h-entry/<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
这边检测h-card的代码添加情况</p>
<p>提示：Success!We found the following post <code>h-entry</code> on your site就成功了</p>
<h2 id="可选添加">可选添加</h2>
<p>如果你做完前面这三个步骤，恭喜你，你的站点已经适配IndieWeb了</p>
<p>适配完IndieWeb之后就可以选择加入IndieWeb webring或者添加WebMention（也就是我那评论下面的网络回响）</p>
<h3 id="webmention-可选">WebMention （可选）</h3>
<p><a class="content-link no-underline" href="https://indieweb.org/Webmention" target="_blank" rel="external nofollow noopener noreferrer">官方介绍<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
（翻译后）：</p>
<p><a class="content-link no-underline" href="https://www.w3.org/TR/webmention/" target="_blank" rel="external nofollow noopener noreferrer">Webmention<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
是一种用于跨 Web 对话和交互的开放 Web 标准（<a class="content-link no-underline" href="https://indieweb.org/W3C" target="_blank" rel="external nofollow noopener noreferrer">W3C<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
推荐标准），是一个强大的构建块，用于不断增长的分布式网络，该网络包含跨 Web 的点对点<a class="content-link no-underline" href="https://indieweb.org/comment" target="_blank" rel="external nofollow noopener noreferrer">评论<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
、<a class="content-link no-underline" href="https://indieweb.org/like" target="_blank" rel="external nofollow noopener noreferrer">点赞<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
、<a class="content-link no-underline" href="https://indieweb.org/repost" target="_blank" rel="external nofollow noopener noreferrer">转发<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
和其他<a class="content-link no-underline" href="https://indieweb.org/responses" target="_blank" rel="external nofollow noopener noreferrer">响应<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
。</p>
<h4 id="登录webmention获取两段link">登录WebMention，获取两段link</h4>
<p>前往 <a class="content-link no-underline" href="https://webmention.io/" target="_blank" rel="external nofollow noopener noreferrer">https://webmention.io/<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
登录你的网站</p>
<p>登录之后点击最上方的Setting，按照图片的来</p>
<p><img class="lazy" alt="按照图片来" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_nK204ZgG2B.avif"></p>
<p>然后点击最上方的Sites，新增一个网站，新增完成之后点击你新增站点的“Get Setup Code”获取代码</p>
<p><img class="lazy" alt="获取到的代码在这" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/image.avif"></p>
<p>把这个地方的<code>&lt;link&gt;</code>代码也给复制到<code>&lt;/head&gt;</code>前面</p>
<p>然后，去 <a class="content-link no-underline" href="https://webmention.rocks/receive/2" target="_blank" rel="external nofollow noopener noreferrer">https://webmention.rocks/receive/2<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
检验你的代码是否安装成功</p>
<p>如果提示这个就代表成功了：</p>
<p><img class="lazy" alt="成功的提示" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_BTNfmkpumY.avif"></p>
<h4 id="添加-网络回响-功能">添加 网络回响 功能</h4>
<p>这个获取Mention的js代码是基于别人的方案而改来</p>
<p>在此基础上适配了pjax</p>
<div class="tabs-container" data-tabs-id="416157b5">
<div class="tabs-nav"><button class="tab-button active" data-tab="tab-416157b5-0">
Solitude主题
</button><button class="tab-button" data-tab="tab-416157b5-1">
Butterfly主题
</button></div>
<div class="tabs-content"><div class="tab-panel active" id="tab-416157b5-0"><p>新增<code>[Blogroot]\themes\solitude\layout\includes\widgets\third-party\webmention.pug</code>，内容如下：</p>
<pre class="line-numbers language-pug">
<code>hr
#post-comment
.comment-head
.comment-headline
i.fas.fa-comments.fa-fw
span= ' 网络回响'
.comment-wrap
p!= '你有对这篇文章写&lt;a href="https://indieweb.org/responses" target="_blank"&gt;回应&lt;/a&gt;吗? 你可以在这里提交你的文章网址（文章需要包含这篇文章的地址，点击这里了解 &lt;a href="https://indieweb.org/Webmention" target="_blank"&gt;Webmention&lt;/a&gt;）：'
br
form.form-webmention(action=url_for(theme.webmention.endpoint) method="post" target="_blank")
input#form-webmention-source(name="source" placeholder='你的文章网址' required="" type="url")
input(name="target" type="hidden" value=urlNoIndex())
input.form-webmention-btn(type="submit" value="Send Webmention")
.webmention-timeline</code>
</pre><p>修改<code>[Blogroot]\themes\solitude\layout\post.pug</code></p>
<p>给这个功能加在comment下面</p>
<pre class="line-numbers language-diff">
<code> if page.comment
- var comment_js = true
include includes/widgets/third-party/comments/comment
+ if theme.webmention.enable &amp;&amp; page.webmention !== false
+ !=partial('includes/widgets/third-party/webmention', &#123;&#125;, &#123;cache: true&#125;) </code>
</pre><p>引入css代码：</p>
<pre class="line-numbers language-css">
<code>.wm-avatar &#123;
border-radius: 50%;
margin: 0;
&#125;
.webmention-avatars .avatar-wrapper &#123;
margin-right: -8px;
&#125;
a.avatar-wrapper &#123;
display: inline-block;
width: 50px;
height: 50px;
position: relative;
&#125;
.replies &#123;
margin: 0;
padding: 0;
&#125;
.reply &#123;
list-style: none;
display: flex;
position: relative;
padding: 0;
align-items: flex-start;
margin-top: 0.6rem;
&#125;
.reply p &#123;
margin: 0;
&#125;
.reply .text &#123;
margin-left: 1rem;
font-size: 14px;
&#125;
.reply-author-name &#123;
font-weight: 500;
&#125;
.form-webmention &#123;
display: flex;
&#125;
.form-webmention-btn &#123;
flex: 0 0 auto;
margin-left: 12px;
align-items: baseline;
border: 0;
cursor: pointer;
&#125;
.form-webmention-btn,
a.retweetBtn &#123;
display: flex;
justify-content: center;
padding: 0 12px;
background: var(--anzhiyu-reverse);
color: var(--efu-secondbg);
&#125;
#form-webmention-source &#123;
flex: 1 0 auto;
border: 1px solid;
padding: 0 8px;
background: var(--efu-secondbg);
border: var(--style-border-always);
&#125;
#form-webmention-source,
.form-webmention-btn,
a.retweetBtn &#123;
height: 36px;
line-height: 36px;
font-size: 16px;
border-radius: 8px;
&#125;</code>
</pre><p>引入js代码：</p>
<pre class="line-numbers language-js">
<code>function webmention() &#123;
const url = window.location.href;
const webmentionBaseUrl = "https://webmention.io"
fetch(webmentionBaseUrl + "/api/mentions.jf2?target=" + encodeURIComponent(url))
.then(function (response) &#123;
console.log('sucess ' + webmentionBaseUrl + "/api/mentions.jf2?target=" + url);
return response.json();
&#125;)
.then(function (data) &#123;
var html = '';
const distinctMentions = [
...new Map(data.children.map((item) =&gt; [item.author.url, item])).values()].sort((a, b) =&gt; new Date(a['wm-received']) - new Date(b['wm-received']));
html += `&lt;div&gt;&lt;p&gt;`;
if (distinctMentions.length &gt; 0) &#123;
html += `已经有 $&#123;distinctMentions.length&#125; 朋友喜欢、分享或讨论这篇文章:&lt;/p&gt;`;
&#125;
html += `&lt;div className="webmention-avatars"&gt;`;
distinctMentions.forEach(function (reply) &#123;
html += `&lt;a class="avatar-wrapper" href=$&#123;reply.author.url&#125; key=$&#123;reply.author.name&#125;&gt;&lt;image class="wm-avatar" loading="lazy" src=$&#123;reply.author.photo != "" ? reply.author.photo: "/img/avatar.png"&#125; data-nimg="fill" sizes="(max-width: 768px) 100vw,(max-width: 1200px) 50vw, 33vw"/&gt;&lt;/a&gt;`;
&#125;);
html += `&lt;/div&gt;`;
const replies = distinctMentions.filter(
(mention) =&gt; ('in-reply-to' in mention || 'mention-of' in mention)&amp;&amp; 'content' in mention
);
if (replies &amp;&amp; replies.length) &#123;
html += `&lt;div class="webmention-replies"&gt;`;
html += `&lt;/br&gt;&lt;h3&gt;引用或评论（$&#123;replies.length&#125;）&lt;/h3&gt;`;
html += `&lt;ul class="replies"&gt;`;
replies.forEach(function (reply)&#123;
html += `&lt;li class="reply" key=$&#123;reply["wm-id"]&#125;&gt;`;
html += `&lt;div&gt;`;
html += `&lt;a class="avatar-wrapper" href=$&#123;reply.author.url&#125; key=$&#123;reply.author.name&#125;&gt;&lt;image class="wm-avatar" loading="lazy" src=$&#123;reply.author.photo != "" ? reply.author.photo: "/img/avatar.png"&#125; alt=$&#123;reply.author.name&#125; data-nimg="fill" sizes="(max-width: 768px) 100vw,(max-width: 1200px) 50vw, 33vw"/&gt;&lt;/a&gt;`;
html += `&lt;/div&gt;`;
html += `&lt;div class="text"&gt;`;
html += `&lt;p class="reply-author-name"&gt;&lt;a href=$&#123;reply.url&#125; target="_blank"&gt;$&#123;reply.author.name&#125;&lt;/a&gt;&lt;/p&gt;`;
html += `&lt;p class="reply-content"&gt;$&#123;reply.content.text.slice(0, 200)&#125;&lt;/p&gt;`;
html += `&lt;/div&gt;`;
html += `&lt;/li&gt;`;
&#125;);
html += `&lt;/ul&gt;`;
html += `&lt;/div&gt;`;
&#125;
document.querySelector('div.webmention-timeline').innerHTML = html;
&#125;)
.catch(function (ex) &#123;
console.error('fetch webmention error' + ex);
&#125;);
&#125;
window.WebMentionLoad = function () &#123;
if (document.querySelector('.webmention-timeline')) webmention();
&#125;;
window.addEventListener("load", WebMentionLoad)
document.addEventListener("pjax:complete", WebMentionLoad)</code>
</pre><p>如果还不知道怎么引入js和css代码的话看这个：</p>
<p><a class="content-link no-underline" href="https://blog.leonus.cn/2022/custom.html" target="_blank" rel="external nofollow noopener noreferrer">https://blog.leonus.cn/2022/custom.html<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<p><a class="content-link no-underline" href="https://akilar.top/posts/ebf20e02/#%E9%AD%94%E6%94%B9%E6%A0%B7%E5%BC%8F%E5%BC%95%E5%85%A5" target="_blank" rel="external nofollow noopener noreferrer">https://akilar.top/posts/ebf20e02/#%E9%AD%94%E6%94%B9%E6%A0%B7%E5%BC%8F%E5%BC%95%E5%85%A5<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<div class="warning-shortcode">
<div class="warning-icon">⚠️</div>
<div class="warning-content">Butterfly主题的inject，对应的是Solitude主题的extends，别看错！
</div>
</div>
<p>在 <code> _config.solitude.yml</code> 中的 新增以下配置项</p>
<pre class="line-numbers language-yml">
<code>webmention:
enable: true
endpoint: https://webmention.io/blog.storical.space/webmention # 这个地方换成你获取到的endpoint</code>
</pre>
</div><div class="tab-panel" id="tab-416157b5-1"><p>新增<code>[Blogroot]\themes\butterfly\layout\includes\third-party\webmention.pug</code>，内容如下：</p>
<pre class="line-numbers language-pug">
<code>hr
#post-comment
.comment-head
.comment-headline
i.fas.fa-comments.fa-fw
span= ' 网络回响'
.comment-wrap
p!= '你有对这篇文章写&lt;a href="https://indieweb.org/responses" target="_blank"&gt;回应&lt;/a&gt;吗? 你可以在这里提交你的文章网址（文章需要包含这篇文章的地址，点击这里了解 &lt;a href="https://indieweb.org/Webmention" target="_blank"&gt;Webmention&lt;/a&gt;）：'
br
form.form-webmention(action=url_for(theme.webmention.endpoint) method="post" target="_blank")
input#form-webmention-source(name="source" placeholder='你的文章网址' required="" type="url")
input(name="target" type="hidden" value=urlNoIndex())
input.form-webmention-btn(type="submit" value="Send Webmention")
.webmention-timeline</code>
</pre><p>修改<code>[Blogroot]\themes\solitude\layout\post.pug</code></p>
<p>给这个功能加在comment下面</p>
<pre class="line-numbers language-diff">
<code> if page.comments !== false &amp;&amp; theme.comments &amp;&amp; theme.comments.use
- var commentsJsLoad = true
!=partial('includes/third-party/comments/index', &#123;&#125;, &#123;cache: true&#125;)
+ if theme.webmention.enable &amp;&amp; page.webmention !== false
+ !=partial('includes/third-party/webmention', &#123;&#125;, &#123;cache: true&#125;) </code>
</pre><p>引入css代码：</p>
<pre class="line-numbers language-css">
<code>.wm-avatar &#123;
border-radius: 50%;
margin: 0;
&#125;
.webmention-avatars .avatar-wrapper &#123;
margin-right: -8px;
&#125;
a.avatar-wrapper &#123;
display: inline-block;
width: 50px;
height: 50px;
position: relative;
&#125;
.replies &#123;
margin: 0;
padding: 0;
&#125;
.reply &#123;
list-style: none;
display: flex;
position: relative;
padding: 0;
align-items: flex-start;
margin-top: 0.6rem;
&#125;
.reply p &#123;
margin: 0;
&#125;
.reply .text &#123;
margin-left: 1rem;
font-size: 14px;
&#125;
.reply-author-name &#123;
font-weight: 500;
&#125;
.form-webmention &#123;
display: flex;
&#125;
.form-webmention-btn &#123;
flex: 0 0 auto;
margin-left: 12px;
align-items: baseline;
border: 0;
cursor: pointer;
&#125;
.form-webmention-btn,
a.retweetBtn &#123;
display: flex;
justify-content: center;
padding: 0 12px;
background: var(--anzhiyu-reverse);
color: var(--efu-secondbg);
&#125;
#form-webmention-source &#123;
flex: 1 0 auto;
border: 1px solid;
padding: 0 8px;
background: var(--efu-secondbg);
border: var(--style-border-always);
&#125;
#form-webmention-source,
.form-webmention-btn,
a.retweetBtn &#123;
height: 36px;
line-height: 36px;
font-size: 16px;
border-radius: 8px;
&#125;</code>
</pre><p>引入js代码：</p>
<pre class="line-numbers language-js">
<code>function webmention() &#123;
const url = window.location.href;
const webmentionBaseUrl = "https://webmention.io"
fetch(webmentionBaseUrl + "/api/mentions.jf2?target=" + encodeURIComponent(url))
.then(function (response) &#123;
console.log('sucess ' + webmentionBaseUrl + "/api/mentions.jf2?target=" + url);
return response.json();
&#125;)
.then(function (data) &#123;
var html = '';
const distinctMentions = [
...new Map(data.children.map((item) =&gt; [item.author.url, item])).values()].sort((a, b) =&gt; new Date(a['wm-received']) - new Date(b['wm-received']));
html += `&lt;div&gt;&lt;p&gt;`;
if (distinctMentions.length &gt; 0) &#123;
html += `已经有 $&#123;distinctMentions.length&#125; 朋友喜欢、分享或讨论这篇文章:&lt;/p&gt;`;
&#125;
html += `&lt;div className="webmention-avatars"&gt;`;
distinctMentions.forEach(function (reply) &#123;
html += `&lt;a class="avatar-wrapper" href=$&#123;reply.author.url&#125; key=$&#123;reply.author.name&#125;&gt;&lt;image class="wm-avatar" loading="lazy" src=$&#123;reply.author.photo != "" ? reply.author.photo: "/img/avatar.png"&#125; data-nimg="fill" sizes="(max-width: 768px) 100vw,(max-width: 1200px) 50vw, 33vw"/&gt;&lt;/a&gt;`;
&#125;);
html += `&lt;/div&gt;`;
const replies = distinctMentions.filter(
(mention) =&gt; ('in-reply-to' in mention || 'mention-of' in mention)&amp;&amp; 'content' in mention
);
if (replies &amp;&amp; replies.length) &#123;
html += `&lt;div class="webmention-replies"&gt;`;
html += `&lt;/br&gt;&lt;h3&gt;引用或评论（$&#123;replies.length&#125;）&lt;/h3&gt;`;
html += `&lt;ul class="replies"&gt;`;
replies.forEach(function (reply)&#123;
html += `&lt;li class="reply" key=$&#123;reply["wm-id"]&#125;&gt;`;
html += `&lt;div&gt;`;
html += `&lt;a class="avatar-wrapper" href=$&#123;reply.author.url&#125; key=$&#123;reply.author.name&#125;&gt;&lt;image class="wm-avatar" loading="lazy" src=$&#123;reply.author.photo != "" ? reply.author.photo: "/img/avatar.png"&#125; alt=$&#123;reply.author.name&#125; data-nimg="fill" sizes="(max-width: 768px) 100vw,(max-width: 1200px) 50vw, 33vw"/&gt;&lt;/a&gt;`;
html += `&lt;/div&gt;`;
html += `&lt;div class="text"&gt;`;
html += `&lt;p class="reply-author-name"&gt;&lt;a href=$&#123;reply.url&#125; target="_blank"&gt;$&#123;reply.author.name&#125;&lt;/a&gt;&lt;/p&gt;`;
html += `&lt;p class="reply-content"&gt;$&#123;reply.content.text.slice(0, 200)&#125;&lt;/p&gt;`;
html += `&lt;/div&gt;`;
html += `&lt;/li&gt;`;
&#125;);
html += `&lt;/ul&gt;`;
html += `&lt;/div&gt;`;
&#125;
document.querySelector('div.webmention-timeline').innerHTML = html;
&#125;)
.catch(function (ex) &#123;
console.error('fetch webmention error' + ex);
&#125;);
&#125;
window.WebMentionLoad = function () &#123;
if (document.querySelector('.webmention-timeline')) webmention();
&#125;;
window.addEventListener("load", WebMentionLoad)
document.addEventListener("pjax:complete", WebMentionLoad)</code>
</pre><p>如果还不知道怎么引入js和css代码的话看这个：</p>
<p><a class="content-link no-underline" href="https://blog.leonus.cn/2022/custom.html" target="_blank" rel="external nofollow noopener noreferrer">https://blog.leonus.cn/2022/custom.html<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<p><a class="content-link no-underline" href="https://akilar.top/posts/ebf20e02/#%E9%AD%94%E6%94%B9%E6%A0%B7%E5%BC%8F%E5%BC%95%E5%85%A5" target="_blank" rel="external nofollow noopener noreferrer">https://akilar.top/posts/ebf20e02/#%E9%AD%94%E6%94%B9%E6%A0%B7%E5%BC%8F%E5%BC%95%E5%85%A5<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
</p>
<p>在 <code> _config.butterfly.yml</code> 中的 新增以下配置项</p>
<pre class="line-numbers language-yml">
<code>webmention:
enable: true
endpoint: https://webmention.io/blog.storical.space/webmention # 这个地方换成你获取到的endpoint</code>
</pre>
</div></div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() &#123;
const tabContainers = document.querySelectorAll('.tabs-container');
tabContainers.forEach(container => &#123;
const buttons = container.querySelectorAll('.tab-button');
const panels = container.querySelectorAll('.tab-panel');
buttons.forEach(button => &#123;
button.addEventListener('click', function() &#123;
buttons.forEach(btn => btn.classList.remove('active'));
panels.forEach(panel => panel.classList.remove('active'));
this.classList.add('active');
const tabId = this.getAttribute('data-tab');
container.querySelector('#' + tabId).classList.add('active');
&#125;);
&#125;);
&#125;);
&#125;);
</script>
<p>魔改完成之后在 <a class="content-link no-underline" href="https://webmention.rocks/receive/1" target="_blank" rel="external nofollow noopener noreferrer">https://webmention.rocks/receive/1<i class="fas fa-arrow-up-right-from-square text-gray-600 dark:text-gray-400 text-sm ml-1"></i></a>
这边测试一下</p>
<p>登录之后输入你的文章链接点击Begin test</p>
<p>如果看见这个提示：</p>
<p><img class="lazy" alt="发布成功后的提示" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_LoMC9ZmMNZ.avif"></p>
<p>并且去你的测试文章这边看见你的数据：</p>
<p><img class="lazy" alt="发送的数据" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/azurlane/msedge_HOlCqgE2VR.avif"></p>
<p>那就代表成功了</p>
<p>好了，就到一段落，indieweb webring那个我懒得写了，写小记去了</p>
</div>

<div>
<div class="tag-plugin link dis-select"><a class="link-card plain" title="IndieWeb的实现" href="https://blog.storical.fun/img/default.jpg" target="_blank" rel="external nofollow noopener noreferrer"><div class="left"><span class="title">IndieWeb的实现</span><span class="desc fs12">https://blog.storical.fun/img/default.jpg</span></div><div class="right"><div class="lazy img" data-bg="https://static.mhuig.top/gh/cdn-x/placeholder@1.0.1/link/8f277b4ee0ecd.svg"></div></div></a></div>
</div>



<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/me-shaon/GLWTPL/blob/master/translations/LICENSE_zh-CN">GLWT（Good Luck With That，祝你好运）公共许可证</a> 许可协议。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="header cap theme"><span>接下来阅读</span></section><section class="body fs14"><a id="next" href="/rss/4f48cb48.html">自定义右键重构篇<span class="note">较早</span></a><div class="line"></div><a id="prev" href="/rss/8355b789.html">2025，继续寻找下一块拼图<span class="note">较新</span></a></section></div>


<div class="related-wrap reveal" id="related-posts">
    <section class="header">
      <div class="title cap theme">您可能感兴趣的文章</div>
    </section>
    <section class="body">
    <div class="related-posts"><a class="item" href="/rss/f44b960a.html" title="2025-02小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=4498"></div><span class="title">2025-02小记</span></a><a class="item" href="/rss/c5a38c97.html" title="2025-01小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250129/image.avif"></div><span class="title">2025-01小记</span></a><a class="item" href="/rss/979ba330.html" title="2025-04小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/profile/9c52363c0605e85c24992a530d093f7.avif"></div><span class="title">2025-04小记</span></a><a class="item" href="/rss/523c9dbe.html" title="2025-03小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/profile/94c0f7e151893c836d8dc2841e3afdb.avif"></div><span class="title">2025-03小记</span></a><a class="item" href="/rss/31eca884.html" title="2025-05小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://www.storical.space/style/images/tech-1.png"></div><span class="title">2025-05小记</span></a><a class="item" href="/rss/a673b9ad.html" title="2025-07小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=8522"></div><span class="title">2025-07小记</span></a><a class="item" href="/rss/4b219.html" title="2025-06小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/20250701/msedge_cmnl8kJjTy.9o02c8znu9.webp"></div><span class="title">2025-06小记</span></a><a class="item" href="/rss/503bc944.html" title="2025-08小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=7620"></div><span class="title">2025-08小记</span></a><a class="item" href="/rss/f64cc2f0.html" title="2025-09小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=9495"></div><span class="title">2025-09小记</span></a><a class="item" href="/rss/af7e87bd.html" title="2025-10小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=2306"></div><span class="title">2025-10小记</span></a><a class="item" href="/rss/347300f8.html" title="2025国庆小记"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=1827"></div><span class="title">2025国庆小记</span></a><a class="item" href="/rss/9ff79b23.html" title="关于我"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=8104"></div><span class="title">关于我</span></a><a class="item" href="/rss/cdab4be7.html" title="很屑的2024年度总结（"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cors.mhuig.top/?r=https://blog.storical.fun&url=https://images1.blog.sinzmise.top/images/b71b72ba4a380856b4050899ebf320a.9dd1bina8y.avif"></div><span class="title">很屑的2024年度总结（</span></a><a class="item" href="/rss/6d129412.html" title="新的域名，新的故事"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://picsum.photos/400/300?random=3352"></div><span class="title">新的域名，新的故事</span></a></div></section></div>





      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">RSS</span><a href="/">近期</a><a href="/categories/">分类</a><a href="/tags/">标签</a><a href="/archives/">归档</a></div><div class="sitemap-group"><span class="fs14">Support</span><a target="_blank" rel="noopener" href="https://blog.mhuig.top/">博客</a><a target="_blank" rel="noopener" href="https://api.mhuig.top/">API</a><a target="_blank" rel="noopener" href="https://ssl.mhuig.top/">SSL Status</a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://mhuig.instatus.com/">Status Monitors</a></div><div class="sitemap-group"><span class="fs14">社交</span><a target="_blank" rel="noopener" href="https://blog.mhuig.top/pages/friends/">友链</a><a target="_blank" rel="noopener" href="https://blog.mhuig.top/pages/about/">留言板</a></div><div class="sitemap-group"><span class="fs14">更多</span><a target="_blank" rel="noopener" href="https://mhuig.top/">关于我</a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/MHuiG">GitHub</a><a href="/contact/">Contact</a><a href="/privacy-policy/">隐私政策</a></div></div><div class="text"><p>本站由 <a target="_blank" rel="noopener" href="https://mhuig.top/">MHuiG</a> 使用 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar</a> 主题创建，您可以在 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/MHG-LAB/RSSBOX">GitHub</a> 找到本站源码<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/me-shaon/GLWTPL/blob/master/translations/LICENSE_zh-CN">GLWT（Good Luck With That，祝你好运）公共许可证</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class="float-panel mobile-only blur" style="display:none">
  <button type="button" class="sidebar-toggle mobile" onclick="sidebar.toggle()">
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"/><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"/></svg>
  </button>
</div>

    </div>
  </div>
  <div class="scripts">
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.9.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://static.mhuig.top/npm/jquery@3.5.1/dist/jquery.min.js',
    sitesjs: '/js/plugins/sites.js',
    friendsjs: '/js/plugins/friends.js',
  };

  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://static.mhuig.top/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@6/swiper-bundle.min.css","js":"https://unpkg.com/swiper@6/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://static.mhuig.top/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://static.mhuig.top/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://static.mhuig.top/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://static.mhuig.top/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://static.mhuig.top/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img,article.content img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti/umd/heti.min.css","js":"https://unpkg.com/heti/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
</body>
</html>
